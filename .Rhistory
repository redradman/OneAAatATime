hello
c(1,2,3,4)
sum(c)
x <- c(1,2,3,4)
sum(x)
# PART A
A4Q4A <- hist(countriesMutated$ecological_diff,
xlab = "Ecological difference (2000 - 2012)",
main = "Histogram of ecological difference between 2012 and 2000",
col = "#1F4690")
############## Q4 ##############
countries <- read.csv("DataForLabs/countries.csv")
head(countries)
# adding emission diff to the csv table
countriesMutated <- mutate(countries, ecological_diff <-
ecological_footprint_2012 -
ecological_footprint_2000)
# PART A
A4Q4A <- hist(countriesMutated$ecological_diff,
xlab = "Ecological difference (2000 - 2012)",
main = "Histogram of ecological difference between 2012 and 2000",
col = "#1F4690")
# PART A
A4Q4A <- hist(countriesMutated$ecological_diff,
xlab = "Ecological difference (2000 - 2012)",
main = "Histogram of ecological difference between 2012 and 2000",
col = "#1F4690")
############## Q4 ##############
countries <- read.csv("DataForLabs/countries.csv")
head(countries)
library(ggthemes)
library(ggplot2)
library(dplyr)
library(readr)
library(car)
############ Q1 ###############
bumpusData <- read.csv(file.path("DataForLabs","bumpus.csv"))
# PART A
ggplot(bumpusData, aes(x = total_length_mm)) +
geom_histogram(binwidth = 1) +
xlab("Total Length (mm)") +
theme_classic()
# PART B
qqnorm(bumpusData$total_length_mm)
qqline(bumpusData$total_length_mm)
# PART C
mean(bumpusData$total_length_mm)
# mean : 159.5441
t.test(bumpusData$total_length_mm)$conf.int
############ Q2 ###############
mammals <- read.csv("DataForLabs/mammals.csv")
# plotting the body mass
A4Q2A <- ggplot(mammals, aes(x = body_mass_kg)) +
geom_histogram(fill = "#1363DF", colour = "#47B5FF") +
labs(title = "Body mass distribution",
caption = "The distribution does not seem to be normal as the moajority of the data is close
to 0 and there are only 2 observable data points at 2500 and 6500 approx
so the data given the shape of the chart does not seem to have a normal distribution.
So the data is heavily left skewed.
The QQ plot on the 3rd page show that the data is left skewed") +
xlab("Body mass (kg)") + theme_minimal()
A4Q2A
ggsave("A4Q2A.png",A4Q2A)
# plotting the LOG of body mass
mammalsMutated <- mutate(mammals, log_body_mass_kg = log(mammals$body_mass_kg))
A4Q2B <- ggplot(mammalsMutated, aes(x = log_body_mass_kg)) +
geom_histogram(fill = "#1363DF", colour = "#47B5FF") +
xlab("log of Body mass (kg)") +
labs(title = "Distribution of log of body mass (kg)",
caption = "The distribution of log of body mass does not seem to be
normal. This is because the data seems to be considerably left skewed.
The qqplot on the 4th page shows that the data is left skewed") +
theme_minimal()
A4Q2B
ggsave("A4Q2B.png",A4Q2B)
qqnorm(mammalsMutated$body_mass_kg)
qqline(mammalsMutated$body_mass_kg)
qqnorm(mammalsMutated$log_body_mass_kg)
qqline(mammalsMutated$log_body_mass_kg)
# just for me (no need to share this lol) (The fun one)
ggplot(bumpusData, aes(x = weight_g, fill = survival)) +
geom_histogram() +
xlab("Weight (g)") +
labs(title = "Comparison of weight by survival category",
position = "identity")
# PART A
ggplot(bumpusData, aes(x = weight_g, fill = as.factor(survival))) +
geom_histogram() + facet_wrap(~ survival, ncol = 1) +
xlab("Weight (g)") +
labs(title = "Comparison of weight by survival category",
fill = "Survival") + theme_minimal()
# filtering the survivors and dead Plural(bumpus)
bumpusDead <- filter(bumpusData, survival == "survived")
bumpusAlive <- filter(bumpusData, survival == "died")
# using qqnorm and qqline
# for the survivors
qqnorm(bumpusAlive$weight_g)
qqline(bumpusAlive$weight_g)
# for dead ones
qqnorm(bumpusDead$weight_g)
qqline(bumpusDead$weight_g)
# PART B
t.test(data = bumpusData, weight_g ~ survival, var.equal = FALSE)
# PART C
t.test(data = bumpusData, weight_g ~ survival, var.equal = FALSE)$conf.int
# PART D
leveneTest(data = bumpusData, weight_g ~ survival, center = mean)
# DO NOT SUBMIT THIS PART #
var(bumpusAlive$weight_g)
var(bumpusDead$weight_g)
############## Q4 ##############
countries <- read.csv("DataForLabs/countries.csv")
head(countries)
# adding emission diff to the csv table
countriesMutated <- mutate(countries, ecological_diff <-
ecological_footprint_2012 -
ecological_footprint_2000)
# PART A
A4Q4A <- hist(countriesMutated$ecological_diff,
xlab = "Ecological difference (2000 - 2012)",
main = "Histogram of ecological difference between 2012 and 2000",
col = "#1F4690")
# PART B
t.test(countries$ecological_footprint_2000,countries$ecological_footprint_2012,
paired = TRUE)
# PART C
print("The t-test returned p-value = 0.008434,
so we can reject the null hypothesis since this is lower than 0.05.
The null hypotheis in this case is that the mean of difference is 0.
In other words, the ecological footprint in 2000 and 2012 has
remained relatively the same. Since the returned p-value is less than 0.05,
we reject this null hypothesis. Meaning that it has changed over time.
More specfically the ecological footprint has been reduced.")
############## Q5 ##############
# importing the csv file
shaving <- read_csv("DataForLabs/leg shaving.csv")
# PART A
A4Q4A <- hist(countriesMutated$ecological_diff,
xlab = "Ecological difference (2000 - 2012)",
main = "Histogram of ecological difference between 2012 and 2000",
col = "#1F4690")
############## Q4 ##############
countries <- read.csv("DataForLabs/countries.csv")
package.install("quantstart")
packages.install("quantstart")
install.packages("quantstart")
install.packages("quantstrat")
av <- available.packages(filters=list())
av[av[, "quantstrat"] == pkg, ]
av[av[, "Package"] == quantstrat, ]
av[av[, "quantstrat"] == pkg]
install.packages("devtools")
install.packages(c("FinancialInstrument","PerformanceAnalytics"))
install.packages("FinancialInstrument") #if not installed
install.packages("PerformanceAnalytics") #if not installed
devtools::install_github("braverock/blotter")
devtools::install_github("braverock/quantstrat")
import quantstrat
help(quantstrat)
library(dplyr)
?make.name
?make.names
?runif
num_of_dots = 10000
for (i in 1:num_of_dots) {}
for (i in 1:num_of_dots) {}
?runif
dots_in_circle = dots_in_circle + 1
dots_in_circle = dots_in_circle + 1
dots = dots + 1
dots <- 0
dots = dots + 1
if (x^2 + y^2 <= 1) {
dots = dots + 1
}
number_of_dots <- 10000
number_of_dots <- 10000
for (i in 1:number_of_dots) {
x <- runif(1, min = -1, max = 1)
y <- runif(1, min = -1, max = 1)
if (x^2 + y^2 <= 1) {
dots = dots + 1
}
}
dots
mypi <- 4 * dots / number_of_dots
mypi
number_of_dots <- 100000
dots <- 0
for (i in 1:number_of_dots) {
x <- runif(1, min = -1, max = 1)
y <- runif(1, min = -1, max = 1)
if (x^2 + y^2 <= 1) {
dots = dots + 1
}
}
mypi <- 4 * dots / number_of_dots
mypi
number_of_dots <- 10000000
dots <- 0
for (i in 1:number_of_dots) {
x <- runif(1, min = -1, max = 1)
y <- runif(1, min = -1, max = 1)
if (x^2 + y^2 <= 1) {
dots = dots + 1
}
}
mypi <- 4 * dots / number_of_dots
mypi
number_of_dots <- 10000000
dots <- 0
for (i in 1:number_of_dots) {
x <- runif(1, min = -1, max = 1)
y <- runif(1, min = -1, max = 1)
if (x^2 + y^2 <= 1) {
dots = dots + 1
}
}
mypi <- 4 * dots / number_of_dots
mypi
?fruit_name
?as.factor
sth <- c(1,2,3,2,2,2,1,1,1,1,1,3,3,3,3,3)
as.factor(sth)
sth <- as.factor(sth)
sth
sth
as.numeric(sth)
sth <- as.numeric(sth)
sth
as_factor(sth)
library(tidyverse)
as_factor(sth)
as.factor(sth)
?as_factor
as.factor(sth, levels = unique(sth))
as_factor(sth, levels = unique(sth))
?read_table2()
install.packages(c('repr', 'IRdisplay', 'IRkernel'), type = 'source')
?tibble
library(tidyverse)
?tibble
?tibble
tibble(a = 1:5)
?ggpairs
??ggpairs
?ggpairs
library(repr)
?ggpairs
library(GGally)
install.packages(GGally)
install.packages("GGally")
?ggpairs
library(broom)
?ggpairs
??ggpairs
number_of_dots <- 1000
dots_in_circle <- 0
for (i in 1:number_of_dots) {
x <- runif(1, min = -1, max = 1)
y <- runif(1, min = -1, max = 1)
if (x^2 + y^2 < 1) {
dots_in_circle = dots_in_circle + 1
}
}
number_of_dots <- 1000
dots_in_circle <- 0
for (i in 1:number_of_dots) {
x <- runif(1, min = -1, max = 1)
y <- runif(1, min = -1, max = 1)
if (x^2 + y^2 < 1) {
dots_in_circle = dots_in_circle + 1
}
}
IRkernel::installspec(user = FALSE)
tibble(q = 1:10)
library(tidyverse)
tibble(q = 1:10)
library(infer)
qs = tibble(q = 1:10)
rep_sample_n(qs, size = 5)
qs = tibble(q = 1:7)
rep_sample_n(qs, reps = 10000, replace = TRUE, size = 7)
boot <- rep_sample_n(qs, reps = 10000, replace = TRUE, size = 7)
boot |> group_by(replicate) |> summarize(mean = mean(q))
boot |> group_by(replicate) |> summarize(mean = mean(q)) |> ggplot(aes(q)) |> geom_histogram(binwidth = 0.5)
boot |> group_by(replicate) |> summarize(mean = mean(q)) |> ggplot(aes(q)) + geom_histogram(binwidth = 0.5)
boot |> group_by(replicate) |> summarize(mean = mean(q)) |> ggplot(aes(q)) + geom_histogram()
boot |> group_by(replicate) |> summarize(mean = mean(q)) |> ggplot(aes(x = q)) + geom_histogram()
boot |> group_by(replicate) |> summarize(mean = mean(q)) |> ggplot(aes(x = mean)) + geom_histogram()
library(tidyverse)
library(ggplot2)
library(ggthemes)
library(dplyr)
setwd("Desktop/proj")
setwd("MutantWatch/")
library(tidyverse)
library(ggplot2)
library(ggthemes)
library(dplyr)
entireProtein <- read.csv("entireProtein.csv")
# Removing the columns with sequences in the df
proteinshort <- entireProtein[, -c(7)]
proteinshort <- proteinshort[, (-c(11))]
# Creating the new df by grouping the old amino acids (the amino acids that are about to be mutated)
data <- proteinshort %>%
filter(type == "mutant") %>%
group_by(residue_number) %>%
summarize(mean_ddg = mean(ddg_score), sd_ddg = sd(ddg_score)) %>%
arrange(desc(mean_ddg))
# Calculate mean of mean_ddg column
mean_ddg_mean <- mean(data$mean_ddg)
# Sort the data by mean_ddg in ascending order
data <- data[order(desc(data$mean_ddg)),]
# Create the bar chart
p_all <- ggplot(data, aes(x = factor(residue_number, levels = residue_number), y = mean_ddg)) +
geom_bar(stat = "identity", fill = "#F28F3B") +
scale_y_continuous(expand = c(0, 0), breaks = seq(0, 800, by = 100), limits = c(0, 800)) +
theme(plot.title = element_text(hjust = 0, size = 16, face = "bold"),
axis.title = element_text(size = 14, face = "bold"),
axis.text = element_text(size = 12),
panel.background = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.major.x = element_line(color = "gray90", size = 0.5),
panel.grid.minor.x = element_blank()) +
ggtitle("Mean ddg scores for all of the 19 mutations at residue number x") +
labs(x = "Residue Number (batches of 35)", y = "Mean ddg") +
geom_hline(yintercept = mean_ddg_mean, color = "red", size = 1.5, linetype = "dashed") +
theme(plot.margin = unit(c(1, 1, 1, 0.5), "cm"))
p_all
# Group data into batches of 35
batch_size <- 35
data$batch <- cut(as.numeric(as.character(data$residue_number)),
breaks = seq(0, max(as.numeric(as.character(data$residue_number))), batch_size),
labels = FALSE)
# Calculate mean ddg for each batch
data_batched <- data %>%
group_by(batch) %>%
summarize(mean_ddg = mean(mean_ddg))
# Create the bar chart with batched x-axis labels
p_batch <- ggplot(data_batched, aes(x = factor(batch), y = mean_ddg)) +
geom_bar(stat = "identity", fill = "#F28F3B") +
scale_y_continuous(expand = c(0, 0), breaks = seq(0, 800, by = 100), limits = c(0, 800)) +
theme(plot.title = element_text(hjust = 0, size = 16, face = "bold"),
axis.title = element_text(size = 14, face = "bold"),
axis.text = element_text(size = 12),
panel.background = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.major.x = element_line(color = "gray90", size = 0.5),
panel.grid.minor.x = element_blank()) +
ggtitle("Mean ddg scores grouped by the amino acid that was added") +
labs(x = "Residue Number (batches of 35)", y = "Mean ddg") +
geom_hline(yintercept = mean(data$mean_ddg), color = "red", size = 1.5, linetype = "dashed") +
theme(plot.margin = unit(c(1, 1, 1, 0.5), "cm")) +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
p_batch
ggsave("mean_ddg_score_per_batch_of_residue_num", p_batch, width = 8, height = 6, dpi = 300)
# Group data into batches of 35
batch_size <- 35
data$batch <- cut(as.numeric(as.character(data$residue_number)),
breaks = seq(0, max(as.numeric(as.character(data$residue_number))), batch_size),
labels = FALSE)
# Group data into batches of 35
batch_size <- 35
data$batch <- cut(as.numeric(as.character(data$residue_number)),
breaks = seq(0, max(as.numeric(as.character(data$residue_number))), batch_size),
labels = FALSE)
# Calculate mean ddg for each batch
data_batched <- data %>%
group_by(batch) %>%
summarize(mean_ddg = mean(mean_ddg))
# Create the bar chart with batched x-axis labels
p_batch <- ggplot(data_batched, aes(x = factor(batch), y = mean_ddg)) +
geom_bar(stat = "identity", fill = "#F28F3B") +
scale_y_continuous(expand = c(0, 0), breaks = seq(0, 800, by = 100), limits = c(0, 800)) +
theme(plot.title = element_text(hjust = 0, size = 16, face = "bold"),
axis.title = element_text(size = 14, face = "bold"),
axis.text = element_text(size = 12),
panel.background = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.major.x = element_line(color = "gray90", size = 0.5),
panel.grid.minor.x = element_blank()) +
ggtitle("Mean ddg scores grouped by the amino acid that was added") +
labs(x = "Residue Number (batches of 35)", y = "Mean ddg") +
geom_hline(yintercept = mean(data$mean_ddg), color = "red", size = 1.5, linetype = "dashed") +
theme(plot.margin = unit(c(1, 1, 1, 0.5), "cm")) +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
p_batch
ggsave("mean_ddg_score_per_batch_of_residue_num.png", p_batch, width = 8, height = 6, dpi = 300)
entireProtein <- read.csv("entireProtein.csv")
# Removing the columns with sequences in the df
proteinshort <- entireProtein[, -c(7)]
proteinshort <- proteinshort[, (-c(11))]
# Creating the new df by grouping the old amino acids (the amino acids that are about to be mutated)
data <- proteinshort %>%
filter(type == "mutant") %>%
group_by(residue_number) %>%
summarize(mean_ddg = mean(ddg_score), sd_ddg = sd(ddg_score)) %>%
arrange(desc(mean_ddg))
# Calculate mean of mean_ddg column
mean_ddg_mean <- mean(data$mean_ddg)
# Sort the data by mean_ddg in ascending order
data <- data[order(desc(data$mean_ddg)),]
# Create the bar chart
p_all <- ggplot(data, aes(x = factor(residue_number, levels = residue_number), y = mean_ddg)) +
geom_bar(stat = "identity", fill = "#F28F3B") +
scale_y_continuous(expand = c(0, 0), breaks = seq(0, 800, by = 100), limits = c(0, 800)) +
theme(plot.title = element_text(hjust = 0, size = 16, face = "bold"),
axis.title = element_text(size = 14, face = "bold"),
axis.text = element_text(size = 12),
panel.background = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.major.x = element_line(color = "gray90", size = 0.5),
panel.grid.minor.x = element_blank()) +
ggtitle("Mean ddg scores for all of the 19 mutations at residue number x") +
labs(x = "Residue Number (batches of 35)", y = "Mean ddg") +
geom_hline(yintercept = mean_ddg_mean, color = "red", size = 1.5, linetype = "dashed") +
theme(plot.margin = unit(c(1, 1, 1, 0.5), "cm"))
p_all
# options(ragg.max_dim = 200000)
ggsave("mean_ddg_score_per_residue_num.png", p_all, width = 600, height = 400, dpi = 300, limitsize = FALSE)
options(ragg.max_dim = 20000)
ggsave("mean_ddg_score_per_residue_num.png", p_all, width = 600, height = 400, dpi = 300, limitsize = FALSE)
ggsave("mean_ddg_score_per_residue_num.png", p_all, width = 60, height = 40, dpi = 300, limitsize = FALSE)
ggsave("mean_ddg_score_per_residue_num.png", p_all, width = 100, height = 50, dpi = 300, limitsize = FALSE)
options(ragg.max_dim = 100000)
ggsave("mean_ddg_score_per_residue_num.png", p_all, width = 100, height = 50, dpi = 300, limitsize = FALSE)
ggsave("mean_ddg_score_per_residue_num.png", p_all, width = 200, height = 50, dpi = 300, limitsize = FALSE)
ggsave("mean_ddg_score_per_residue_num.png", p_all, width = 150, height = 50, dpi = 300, limitsize = FALSE)
# Create the bar chart
p_all <- ggplot(data, aes(x = factor(residue_number, levels = residue_number), y = mean_ddg)) +
geom_bar(stat = "identity", fill = "#F28F3B") +
scale_y_continuous(expand = c(0, 0), breaks = seq(0, 800, by = 100), limits = c(0, 800)) +
theme(plot.title = element_text(hjust = 0, size = 16, face = "bold"),
axis.title = element_text(size = 14, face = "bold"),
axis.text = element_text(size = 12),
panel.background = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.major.x = element_line(color = "gray90", size = 0.5),
panel.grid.minor.x = element_blank()) +
ggtitle("Mean ddg scores for all of the 19 mutations at residue number x") +
labs(x = "Residue Number", y = "Mean ddg") +
geom_hline(yintercept = mean_ddg_mean, color = "red", size = 1.5, linetype = "dashed") +
theme(plot.margin = unit(c(1, 1, 1, 0.5), "cm"))
p_all
options(ragg.max_dim = 100000)
ggsave("mean_ddg_score_per_residue_num.png", p_all, width = 150, height = 50, dpi = 300, limitsize = FALSE)
data
hist(data$mean_ddg)
data |> filter(mean_ddg < 0)
data |> filter(mean_ddg < 0) |> arrange(desc(mean_ddg))
data |> filter(mean_ddg < 0) |> arrange(mean_ddg)
proteinshort |> summarize(mean = mean(ddg_score))
summary(proteinshort$ddg_score)
proteinshort |> arrange(ddg_score)
sd(proteinshort$ddg_score)
# Calculate mean ddg for each batch
data_batched <- data %>%
group_by(batch) %>%
summarize(mean_ddg = mean(mean_ddg))
# Create the bar chart with batched x-axis labels
p_batch <- ggplot(data_batched, aes(x = factor(batch), y = mean_ddg)) +
geom_bar(stat = "identity", fill = "#F28F3B") +
scale_y_continuous(expand = c(0, 0), breaks = seq(0, 800, by = 100), limits = c(0, 800)) +
theme(plot.title = element_text(hjust = 0, size = 16, face = "bold"),
axis.title = element_text(size = 14, face = "bold"),
axis.text = element_text(size = 12),
panel.background = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.major.x = element_line(color = "gray90", size = 0.5),
panel.grid.minor.x = element_blank()) +
ggtitle("Mean ddg scores grouped by the amino acid that was added") +
labs(x = "Residue Number (batches of 35)", y = "Mean ddg") +
geom_hline(yintercept = mean(data$mean_ddg), color = "red", size = 1.5, linetype = "dashed") +
theme(plot.margin = unit(c(1, 1, 1, 0.5), "cm")) +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
p_batch
ggsave("mean_ddg_score_per_batch_of_residue_num.png", p_batch, width = 8, height = 6, dpi = 300)
colnames(entireProtein)
summary(entireProtein$sasa_score)
